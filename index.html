<!DOCTYPE html>
<html>
<head>
  <title>IMDB API Example</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
 
  
</head>
<body>
  <h1 class="text-center">IMDB API Example</h1>

  <div class="container">
    <form class="form-inline justify-content-center py-4">
      <div class="input-group">
        <input type="text" class="form-control" id="searchInput" placeholder="Search for a movie or TV show">
        <div class="input-group-append">
          <button type="button" class="btn btn-primary" onclick="search()">Search</button>
        </div>
      </div>
    </form>
  </div>
  


  <div class="container text-center">
    <div class="btn-group mb-4" role="group">
        <button type="button" class="btn btn-primary" onclick="displayTop250TVs()">Top 250 TV Shows</button>
        <button type="button" class="btn btn-primary" onclick="displayComingSoon()">Coming Soon</button>
        <button type="button" class="btn btn-primary" onclick="displayMostPopularTVs()">Most Popular TV Shows</button>
    </div>
</div>


  <div class="container">
    <div id="output" class="row"></div>
  </div>

  <script>
    function createCard(title, image, description) {
      const card = document.createElement('div');
      card.className = 'col-sm-6 col-md-4 col-lg-3 mb-4';

      const imgWrapper = document.createElement('div');
      imgWrapper.className = 'card-img-wrapper';
      card.appendChild(imgWrapper);

      const img = document.createElement('img');
      img.src = image;
      img.alt = title;
      img.className = 'card-img-top';
      imgWrapper.appendChild(img);

      const cardBody = document.createElement('div');
      cardBody.className = 'card-body';
      card.appendChild(cardBody);

      const h4 = document.createElement('h4');
      h4.className = 'card-title';
      h4.textContent = title;
      cardBody.appendChild(h4);

      const p = document.createElement('p');
      p.className = 'card-text';
      p.textContent = description;
      cardBody.appendChild(p);

      return card;
    }

    function search() {
      const searchInput = document.getElementById('searchInput').value.trim();
      if (!searchInput) return;

      fetch(`https://imdb-api.com/API/Search/k_3e39uoq2/${searchInput}`)
        .then(response => response.json())
        .then(data => {
          console.log(data);
          const output = document.getElementById('output');
          output.innerHTML = '';
          data.results.forEach(result => {
            const card = createCard(result.title, result.image, result.description);
            output.appendChild(card);
          });
        })
        .catch(error => console.error(error));
    }

    function fetchAndDisplay(url) {
  fetch(url)
    .then(response => response.json())
    .then(data => {
      console.log(data);
      const output = document.getElementById('output');
      output.innerHTML = '';
      data.items.forEach(item => {
        const card = createCard(item.title, item.image, item.description);
        output.appendChild(card);
      });
    })
    .catch(error => console.error(error));
}

function displayTop250TVs() {
  fetchAndDisplay('https://imdb-api.com/API/Top250TVs/k_3e39uoq2');
}

function displayComingSoon() {
  fetchAndDisplay('https://imdb-api.com/API/ComingSoon/k_3e39uoq2');
}

function displayMostPopularTVs() {
  fetchAndDisplay('https://imdb-api.com/API/MostPopularTVs/k_3e39uoq2');
}

  </script>

</body>
</html>
